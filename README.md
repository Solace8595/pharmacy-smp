# pharmacy-smp
Аптека СМП - система управления медикаментами

## О проекте:

Автоматизация процесса пополнения укладок бригад СМП с использованием мобильного приложения и веб-сервиса.

## Технологии:

### Мобильное приложение

- Kotlin + Jetpack Compose
- Retrofit
- Koin/Dagger или другие редства
- Любые средства для сканирования QR-кодов

### Сервер
- Dotnet + ASP.NET
- Entity Framework
- PostgreSQL

Для взаимодействия между клиентом и сервером использовать протокол HTTP и REST-API паттерн

## Структура базы данных

```mermaid
erDiagram
    BRIGADES {
        int Id PK "Идентификатор бригады"
        string Name "Название бригады"
    }

    PACKAGES {
        int Id PK "Идентификатор укладки"
        int BrigadeId FK "Ссылка на бригаду"
    }

    MEDICATIONS {
        int Id PK "Идентификатор препарата"
        string Name "Название препарата"
        string QrCode "QR-код препарата"
        int TotalQuantity "Общее количество на складе"
        datetime ExpiryDate "Срок годности"
    }

    PACKAGE_MEDICATIONS {
        int Id PK "Идентификатор связи"
        int PackageId FK "Ссылка на укладку"
        int MedicationId FK "Ссылка на препарат"
        int Quantity "Количество в укладке"
    }

    REPLENISHMENTS {
        int Id PK "Идентификатор пополнения"
        int BrigadeId FK "Ссылка на бригаду"
        int MedicationId FK "Ссылка на препарат"
        int Quantity "Количество пополнения"
        datetime Timestamp "Время операции"
    }

    BRIGADES ||--o{ PACKAGES : "имеет"
    BRIGADES ||--o{ REPLENISHMENTS : "получает_пополнения"
    PACKAGES ||--o{ PACKAGE_MEDICATIONS : "содержит"
    MEDICATIONS ||--o{ PACKAGE_MEDICATIONS : "входит_в_состав"
    MEDICATIONS ||--o{ REPLENISHMENTS : "используется_при_пополнении"
```
## Связи:

- Brigade 1 → N Package - Одна бригада может иметь несколько укладок
- Brigade 1 → N Replenishment - Одна бригада может получать multiple пополнения
- Package N ←→ N Medication - Многие-ко-многим через PackageMedication
- Medication 1 → N Replenishment - Один препарат может использоваться в multiple пополнениях

## Сущности:

- Brigades - Бригады скорой помощи

- Packages - Укладки медицинских препаратов

- Medications - Медикаменты и препараты

- PackageMedications - Связь укладок с препаратами (количество)

- Replenishments - Журнал пополнений укладок

## Диаграмма прецедентов

```mermaid
flowchart TB
    A[Аптекарь]
    B[Администратор]
    C[Система СМП]
    
    A --> A1[Сканировать QR-код]
    A --> A2[Просмотреть информацию]
    A --> A3[Пополнить укладку]
    A --> A4[Список укладок]
    A --> A5[История пополнений]
    
    B --> B1[Управление препаратами]
    B --> B2[Управление бригадами]
    B --> B3[Генерация отчетов]
    B --> B4[Контроль сроков]
    
    C --> B4
```
## Архитектура системы

```mermaid
flowchart TD
    A[Мобильное приложение Android] --> B[Backend API Spring Boot]
    B --> C[База данных PostgreSQL]
    D[Администратор] --> B
    E[Аптекарь] --> A
    
    subgraph Mobile [Kotlin Mobile App]
        A1[Экран сканирования QR]
        A2[Список укладок]
        A3[История пополнений]
    end
    
    subgraph Backend [Java Spring Boot]
        B1[Auth Controller]
        B2[Medication Controller]
        B3[Kit Controller]
    end
```

## Команда проекта

| ФИ | Роль | Выполненные задачи |
|-----|------|-------------------|
| **Мурзина Мария** | Тимлид / Архитектор | • Организация проекта и команды<br>• Создание структуры проекта<br>• Настройка Git репозитория<br>• Составление плана разработки<br>• Координация работы команды<br>• Создание ER-диаграмм и документации<br>• Распределение задач между участниками |
| **Симанова Мария** | Backend-разработчик<br>(.NET + PostgreSQL) | • Создание ASP.NET Web API проекта<br>• Настройка Docker с PostgreSQL<br>• Настройка Entity Framework<br>• Создание моделей данных<br>• Разработка миграций БД<br>• Создание API контроллеров<br>• Реализация бизнес-логики |
| **Змеева Анна** | Mobile-разработчик<br>(Kotlin/Compose) | • Создание Android проекта<br>• Настройка зависимостей<br>• Создание структуры приложения<br>• Разработка UI экранов<br>• Интеграция моковых данных<br>• Настройка Retrofit<br>• Реализация сканирования QR |
| **Нуртдинова Алина** | UI/UX Дизайнер | • Проектирование пользовательских интерфейсов<br>• Создание макетов экранов<br>• Разработка дизайн-системы<br>• Подбор цветовой схемы и типографики<br>
| **Андриенко Алёна** | QA / Тестировщик | • Тестирование функциональности<br>• Проверка интеграций<br>• Тестирование API endpoints<br>• Валидация бизнес-логики<br>• Создание тестов |


